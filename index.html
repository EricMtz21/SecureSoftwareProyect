<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>SecureSoftware</title>
  </head>
  <body>
    <div class="main-div">
      <div class="log-in">
        <form action="verificar_sesion.php" method="POST">
          <h1>Inicio de sesión</h1>
          <input
            type="email"
            placeholder="Correo electrónico"
            name="email"
            required
          />
          <input
            type="password"
            placeholder="Contraseña"
            name="password"
            required
          />
          <input type="submit" value="Iniciar sesión" />
        </form>
      </div>
      <div class="sign-up">
        <form action="guardar_registro.php" method="post">
          <h1>Registro</h1>
          <input type="text" name="email" placeholder="Correo electrónico" required/>
          <input type="text" name="username" placeholder="Nombre de usuario" required/>
          <input type="text" name="firstname" placeholder="Nombre" required/>
          <input type="text" name="lastname" placeholder="Apellido" required/>
          <input
            type="password"
            name="password"
            id="password"
            placeholder="Contraseña"
            required
          />
          <div id="password-error" class="error" style="display: none">
            <ul>
              <li class="li-nodot">La contraseña debe contener al menos:</li>
              <li>Una mayúscula.</li>
              <li>Una minúscula.</li>
              <li>Un número.</li>
              <li>Un carácter especial.</li>
              <li>Tener al menos 8 caracteres.</li>
            </ul>
          </div>
          <input type="submit" value="Registrarse" />
        </form>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var passwordInput = document.getElementById("password")
        var passwordError = document.getElementById("password-error")

        passwordInput.addEventListener("focus", function () {
          passwordError.style.display = "block"
        })

        passwordInput.addEventListener("blur", function () {
          var password = passwordInput.value
          var passwordPattern =
            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/

          if (!passwordPattern.test(password)) {
            passwordInput.value = ""
          } else {
            passwordError.style.display = "none"
          }
        })
      })
    </script>
  </body>
</html>
